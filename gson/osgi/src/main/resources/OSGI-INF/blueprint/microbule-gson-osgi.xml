<?xml version="1.0" encoding="UTF-8"?>

<blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">

    <bean id="gsonService" class="org.microbule.gson.core.GsonServiceImpl" />

    <service ref="gsonService" interface="org.microbule.gson.api.GsonService" />

    <bean id="gsonCustomizerRegistrar" class="org.microbule.gson.osgi.GsonCustomizerRegistrar">
        <argument ref="blueprintBundleContext" />
        <argument ref="gsonService" />
    </bean>

    <!--
    Exception Mappers
    -->
    <bean id="jsonSyntaxExceptionMapper" class="org.microbule.errormap.spi.ConstantErrorMapper">
        <argument value="com.google.gson.JsonSyntaxException" />
        <argument value="BAD_REQUEST" />
    </bean>

    <service ref="jsonSyntaxExceptionMapper" interface="org.microbule.errormap.spi.ErrorMapper" />

</blueprint>